<!DOCTYPE html>
<!--[if lt IE 9]><html class="lte-ie8 " lang="en"><![endif]--><!--[if gt IE 8]><!--><html lang="en" class="">
<!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Producing APIs</title>


    
    <!--[if gt IE 8]><!--><link href="http://static.preview.alphagov.co.uk/static/application.css" media="screen" rel="stylesheet" type="text/css">
<!--<![endif]--><!--[if IE 6]><link href="http://static.preview.alphagov.co.uk/static/application-ie6.css" media="screen" rel="stylesheet" type="text/css" /><![endif]--><!--[if IE 7]><link href="http://static.preview.alphagov.co.uk/static/application-ie7.css" media="screen" rel="stylesheet" type="text/css" /><![endif]--><!--[if IE 8]><link href="http://static.preview.alphagov.co.uk/static/application-ie8.css" media="screen" rel="stylesheet" type="text/css" /><![endif]--><link href="http://static.preview.alphagov.co.uk/static/print.css" media="print" rel="stylesheet" type="text/css">
<!--[if IE 8]>
<script type="text/javascript">
  (function(){if(window.opera){return;}
  setTimeout(function(){var a=document,g,b={families:(g=
  ["nta"]),urls:["http://static.preview.alphagov.co.uk/static/fonts-ie8.css"]},
  c="http://static.preview.alphagov.co.uk/static/libs/goog/webfont-debug.js",d="script",
  e=a.createElement(d),f=a.getElementsByTagName(d)[0],h=g.length;WebFontConfig
  ={custom:b},e.src=c,f.parentNode.insertBefore(e,f);for(;h--;a.documentElement
  .className+=' wf-'+g[h].replace(/\s/g,'').toLowerCase()+'-n4-loading');},0)
  })()
</script>
<![endif]--><!--[if gte IE 9]><!--><link href="http://static.preview.alphagov.co.uk/static/fonts.css" media="all" rel="stylesheet" type="text/css">
<!--<![endif]--><script src="http://static.preview.alphagov.co.uk/static/libs/jquery/jquery-1.7.2.js" type="text/javascript"></script><script defer src="http://static.preview.alphagov.co.uk/static/application.js" type="text/javascript"></script><!--[if lt IE 9]>
      <script src="http://static.preview.alphagov.co.uk/static/ie.js" type="text/javascript"></script>
    <![endif]--><link rel="shortcut icon" href="http://static.preview.alphagov.co.uk/static/favicon.ico" type="image/x-icon">
<!-- For third-generation iPad with high-resolution Retina display: --><link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://static.preview.alphagov.co.uk/static/apple-touch-icon-144x144.png">
<!-- For iPhone with high-resolution Retina display: --><link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://static.preview.alphagov.co.uk/static/apple-touch-icon-114x114.png">
<!-- For first- and second-generation iPad: --><link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://static.preview.alphagov.co.uk/static/apple-touch-icon-72x72.png">
<!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: --><link rel="apple-touch-icon-precomposed" href="http://static.preview.alphagov.co.uk/static/apple-touch-icon-57x57.png">
<meta name="viewport" content="width=device-width, initial-scale=1">


<script src="http://static.preview.alphagov.co.uk/frontend/frontend.js" type="text/javascript"></script>

<link title="Search" rel="search" type="application/opensearchdescription+xml" href="/search/opensearch.xml">
<!--[if gt IE 8]><!--><link href="http://static.preview.alphagov.co.uk/frontend/application.css" media="screen" rel="stylesheet" type="text/css">
<!--<![endif]--><link rel="alternate" type="application/json" href="/api/with_tag.json?tag=find-course">
<!--[if IE 6]><link href="http://static.preview.alphagov.co.uk/frontend/application-ie6.css" media="screen" rel="stylesheet" type="text/css" /><![endif]--><!--[if IE 7]><link href="http://static.preview.alphagov.co.uk/frontend/application-ie7.css" media="screen" rel="stylesheet" type="text/css" /><![endif]--><!--[if IE 8]><link href="http://static.preview.alphagov.co.uk/frontend/application-ie8.css" media="screen" rel="stylesheet" type="text/css" /><![endif]-->






<meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="/assets/stylesheets/styles.css" />
  </head>

  <body class="mainstream full-width">
    <script type="text/javascript">document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script><a href="#content" class="visuallyhidden">Skip to main content</a>

        <!--start header-->
    <header role="banner" class="group" id="global-header"><div class="header-wrapper group">
        <a href="/" title="Go to the gov.uk homepage" id="logo"><img src="http://static.preview.alphagov.co.uk/static/gov.uk_logotype-2x.png" alt="GOV.UK Logo"></a>

        <a href="#footer" class="visuallyhidden">Skip to footer navigation</a>

        <a href="#search" class="button search-toggle">Search</a>

        <form id="search" class="site-search" action="/search" method="get" role="search">
          <label for="site-search-text" class="">Search</label>
          <input type="search" name="q" placeholder="Search GOV.UK" id="site-search-text" title="Search"><input class="button" type="submit" value="Search">
        </form>
      </div>
    </header>
    <!--end header-->

    <div id="wrapper" class="">

      <section id="content" role="main" class="group">

        <div class="js-toggle-nav" id="global-nav">
          <div class="inner">
            <nav role="navigation" class="content">
              <ul id="navigation">
                <li><a href="/" class="current">Government Service Design Manual</a></li>
                <li><a href="/digital-by-default" >Digital by Default standard</a></li>
              </ul>
            </nav>
          </div>
        </div>

    

        <header class="page-header group">

        

        <hgroup><h1>Producing APIs</h1></hgroup></header><div class="article-container group">
        <article role="article" class="group">
          <div class="inner">
              

              <h1 id="producing-apis">Producing APIs</h1>
<p>Martha Lane Fox’s report report called for government to act as a “wholesaler as well as the retail shop front for services and content by mandating the development and opening up of Application Programme Interfaces <a href="http://en.wikipedia.org/wiki/Application_programming_interface">APIs</a> to third parties”. This section is a set of guiding principles for exposing a Digital service as an API.</p>

<h2 id="guidance">Guidance</h2>

<h3 id="build-an-api-by-building-with-the-api">Build an API by building with the API</h3>
<p>When building an API there is a danger of building the wrong thing in the wrong way for the wrong people.
This is a particular risk in the absence of a developer community driving <a href="https://www.gov.uk/designprinciples#first">the needs</a> of an API.</p>

<p>The simplest way to ensure your API is useful and consumable is to build a Web site using your own API.</p>

<p>Building a Web site forces a need to model data around bookmarkable resources; becoming a consumer of your own user not only validates your API,
but leads to services being exposed <a href="http://www.w3.org/TR/webarch/">on The Web</a>.</p>

<h3 id="just-use-the-web">Just use The Web</h3>
<p>Consider an API to be a part of a Web site.
Provide links to machine-friendly formats from human readable pages,
and enable agents to easily construct URLs which link to human-friendly representations of pages.</p>

<p>Use standard formats for content, and follow established Web patterns for authentication.</p>

<p>Building a service to enjoy mass adoption and support from a wide disparate community of developers and programming environments whilst being able to reach a world-wide audience is difficult.
Whilst proprietary and open technologies abound for machine-to-machine communication, none combine the interoperability, reach and ability to scale to compete with The Web.</p>

<p>Standards are powerful agreements, and nowhere are agreements more quickly established and adopted than on The Web.
Using HTTP and URIs, the core technologies of The Web, together with emergent standards such as <a href="http://www.json.org/">JSON</a> and <a href="http://en.wikipedia.org/wiki/OAuth">OAuth</a> changes a Website from <a href="http://www.cabinetoffice.gov.uk/resource-library/directgov-2010-and-beyond-revolution-not-evolution">a retail shop window into a wholesaler</a>, meeting our design principle to <a href="https://www.gov.uk/designprinciples#eighth">Build digital services, not websites</a>.</p>

<h3 id="give-each-thing-a-bookmarkable-uri">Give each thing a bookmarkable URI</h3>
<p>Expose data as a set of resources, offering a <a href="http://en.wikipedia.org/wiki/Clean_URL">clean URL</a> for each thing, and each collection of things.</p>

<p>Only use <a href="http://en.wikipedia.org/wiki/Query_string">query strings</a> for URLs with unordered parameters, such as options to search pages.</p>

<p>Consider creating URIs for different granularity of resources. For example, <code>/members.json</code> could return a list of names, whilst <code>/members.json?detail=full</code> could return detailed information about each member in a list.</p>

<p>These principles enable network effects which arise through linking and allow information published beyond the Web, sent in alerts email, SMS, XMPP and other messages to link back to the canonical content, on The Web.</p>

<h3 id="use-http-methods-as-tim-intended">Use HTTP methods as Tim intended</h3>
<p>Ensure all <a href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods">HTTP GET</a> requests are <a href="http://www.w3.org/2001/tag/doc/whenToUseGet.html">safe</a>, and actions which change state are conducted using a <a href="http://en.wikipedia.org/wiki/POST_\(HTTP\)">POST</a>, PUT or DELETE method.</p>

<p>Use PUT and DELETE which are commonly blocked by firewalls, intranet proxies, hotel Wifi and mobile operators with caution; always offer a POST alternative.</p>

<p>Avoid HTTP methods which are not well defined, such as PATCH.</p>

<h3 id="representations-are-for-the-consumer">Representations are for the consumer</h3>
<p>Offer content for each thing as a human-readable HTML, with links to content in alternative machine-readable representations:</p>

<ul>
  <li><a href="http://en.wikipedia.org/wiki/JSON">JSON</a> for convenient processing in most programming languages</li>
  <li><a href="http://en.wikipedia.org/wiki/JSONP">JSONP</a> and JSON with <a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing">CORS</a> for client-side JavaScript</li>
  <li><a href="http://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> for importing into spreadsheets</li>
  <li><a href="http://en.wikipedia.org/wiki/Atom_\(standard\)">Atom</a> for <a href="http://en.wikipedia.org/wiki/Web_feed">feeds</a>.</li>
</ul>

<p>Where possible, also offer other formats most suited to a specific domain, such as:</p>

<ul>
  <li><a href="http://en.wikipedia.org/wiki/ICalendar">iCalendar</a> for events</li>
  <li><a href="http://en.wikipedia.org/wiki/VCard">vCard</a> for name and addresses</li>
  <li><a href="http://en.wikipedia.org/wiki/Keyhole_Markup_Language">KML</a> and <a href="http://en.wikipedia.org/wiki/GeoRSS">geoRSS</a> for geographical data</li>
  <li><a href="http://en.wikipedia.org/wiki/.m3u">m3u</a> for playlists</li>
</ul>

<p>Include hyperlinks to alternative representations as <a href="http://www.w3.org/TR/html51/document-metadata.html#the-link-element">link headers</a> as well as in content.</p>

<p><em>Consider also encoding meta-data inside HTML content using semantic markup: <a href="http://microformats.org/">Microformats</a>. <a href="http://en.wikipedia.org/wiki/Rdfa">RDFa</a> or <a href="http://schema.org/">schema.org</a>.</em></p>

<p>The representations supported by an API for input will vary depending upon the complexity of the action, but where possible should include <code>application/x-www-form-urlencoded</code> to allow the construction of simple <a href="http://en.wikipedia.org/wiki/POST_\(HTTP\)">POST</a> forms.</p>

<h3 id="names-reinforce-conventions">Names reinforce conventions</h3>
<p>Use names for fields, formats and path segments in a URI path consistently across your API.
Establish conventions others may easily follow, and anticipate.
Where possible, reuse names widely used elsewhere on The Web, as with the <a href="http://microformats.org/wiki/naming-principles">Microformats naming policy</a>.</p>

<h3 id="document-by-discovery--and-example">Document by discovery … and example</h3>
<p>Building a Website which exposes the data through links, and services through HTML forms encourages exploration and leads to <a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven">discovery through hypertext</a>.
Provide documentation for your API using examples.
Collect how people are using your API, especially link to any open source projects for projects, wrappers and programming language libraries.
Provide simple ways to experiment, as with <a href="http://explorer.content.guardianapis.com/">The Guardian API explorer</a>.</p>

<h3 id="explicitly-set-expectations">Explicitly set expectations</h3>
<p>Be clear in Web pages and other documentation as to the security, availability, rate-limiting, expected responsiveness of the platform and the provenance of data, so consumers may plan their commitment to using your API.</p>

<h3 id="be-public-by-default">Be public by default</h3>
<p>Lower the barriers to others using your data; don’t demand registration or API keys for public data.</p>

<p>Open data increases the number of people able to use your data and service, and leads to feedback loops where consumers become motivated to resolve issues at source, feeding back issues and correction to your service and the data within.</p>

<p>Where content is sensitive, or requires authentication, use encryption (HTTPS) and a standard authentication such as <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">Basic Authentication</a> or <a href="http://en.wikipedia.org/wiki/OAuth">OAuth</a>, depending upon the sensitivity of your content.</p>

<h3 id="communicate-breaking-changes">Communicate breaking changes</h3>
<p>Practice service evolution:</p>

<ul>
  <li>Build for <a href="http://en.wikipedia.org/wiki/Forward_compatibility">forwards compatibility</a> by gracefully handling content that is unexpected. The <a href="http://en.wikipedia.org/wiki/Robustness_principle">robustness principle</a> — 
Postel’s Law explains the ability for The Web and Internet to evolve, though you shouldn’t ignore protocol errors, corrupted, or invalidly formatted content.</li>
  <li>Preserve <a href="http://en.wikipedia.org/wiki/Backward_compatibility">backwards compatibility</a> with existing consumers of your API, by sending expected content,
Eschew changes to the semantics of content, e.g. don’t change a <code>title</code> field from to the prefix for a name to the person’s job title.</li>
</ul>

<p>Where a revolutionary change is unavoidable, communicate a breaking change by changing the URL.
When changing URIs, continue to honour old consumers, possibly use a <a href="http://digital.cabinetoffice.gov.uk/2012/10/11/no-link-left-behind/">redirection</a>.
<a href="http://www.w3.org/Provider/Style/URI.html">Cool URIs don’t change</a>.</p>

<h2 id="further-reading">Further reading</h2>
<p>This guide is an outline of the alpha <a href="https://github.com/alphagov/api-design-principles">GDS API Design Principles</a>.
The <a href="http://groups.google.com/group/api-craft">API Craft Group</a> is a reasonably active public forum for discussing publishing APIs.</p>

            </div>
            </article>
          </div>
		  <div>
		  	<a href="/guides-and-toolkits/feedback.html">How to give feedback on the manual</a>
		  </div>
      </section>
    </div><!--end wrapper-->
    <footer class="group" id="footer" role="contentinfo">
      <div class="footer-wrapper">
        <nav class="footer-categories"><h2>Explore GOV.UK</h2>

          <ul>
<li><a href="/browse/driving">Driving, transport, and travel</a></li>
            <li><a href="/browse/business">Businesses and self-employed</a></li>
            <li><a href="/browse/education">Education and learning</a></li>
            <li><a href="/browse/housing">Housing and local services</a></li>
            <li><a href="/browse/justice">Crime, justice and the law</a></li>
            <li><a href="/browse/tax">Money and tax</a></li>
          </ul>
<ul>
<li><a href="/browse/benefits">Benefits</a></li>
            <li><a href="/browse/employing-people">Employing people</a></li>
            <li><a href="/browse/working">Working, jobs and pensions</a></li>
            <li><a href="/browse/citizenship">Citizenship and life in the UK</a></li>
            <li><a href="/browse/births-deaths-marriages">Births, deaths, marriages, parenting and care</a></li>
          </ul>
<div class="copyright">
            <a href="http://www.nationalarchives.gov.uk/information-management/our-services/crown-copyright.htm">&copy; Crown Copyright</a>
          </div>
        </nav><div class="footer-meta">
          <ul>
<li><a href="/help">Help</a></li>
            <li><a href="/help/cookies">Cookies</a></li>
            <li><a href="/feedback">Feedback</a></li>
          </ul>
<div class="colophon">Built by the <a href="http://digital.cabinetoffice.gov.uk/">Government Digital Service</a>
</div>
          <p>Where indicated, content is available under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/">Open Government Licence</a></p>

        </div>
      </div>
    </footer>


  </body>
</html>
